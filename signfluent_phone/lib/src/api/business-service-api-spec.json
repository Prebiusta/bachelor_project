{"swagger":"2.0","info":{"description":"DESCRIPTION","version":"VERSION","title":"TITLE","termsOfService":"http://terms-of-services.url","license":{"name":"LICENSE","url":"http://url-to-license.com"}},"host":"localhost:8006","basePath":"/","tags":[{"name":"authentication-controller","description":"Authentication Controller"},{"name":"certificate-authority-controller","description":"Certificate Authority Controller"},{"name":"device-controller","description":"Device Controller"},{"name":"document-controller","description":"Document Controller"},{"name":"notification-controller","description":"Notification Controller"},{"name":"role-management-controller","description":"Role Management Controller"},{"name":"signing-process-controller","description":"Signing Process Controller"},{"name":"user-controller","description":"User Controller"}],"paths":{"/api/auth/login":{"post":{"tags":["authentication-controller"],"summary":"Authenticates user","operationId":"login","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"authenticationRequest","description":"authenticationRequest","required":true,"schema":{"$ref":"#/definitions/AuthenticationRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AuthenticationResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/auth/ping":{"get":{"tags":["authentication-controller"],"summary":"Verifies the connection","operationId":"ping","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/auth/refreshToken":{"post":{"tags":["authentication-controller"],"summary":"Refreshes authentication token","operationId":"refreshAuthToken","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"request","description":"request","required":true,"schema":{"$ref":"#/definitions/RefreshTokenRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AuthenticationResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/certificateAuthority/issueX509Certificate":{"post":{"tags":["certificate-authority-controller"],"summary":"Issues X509 Certificate and returns in PEM format","operationId":"issueX509Certificate","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"issueX509CertificateRequest","description":"issueX509CertificateRequest","required":true,"schema":{"$ref":"#/definitions/IssueX509CertificateRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/device/register":{"post":{"tags":["device-controller"],"summary":"Registers a new device","operationId":"register","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"request","description":"request","required":true,"schema":{"$ref":"#/definitions/RegisterDeviceRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/RegisterDeviceResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/device/updateFCMToken":{"post":{"tags":["device-controller"],"summary":"Updates FCM token for specified device","operationId":"updateFCMToken","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"updateFCMTokenRequest","description":"updateFCMTokenRequest","required":true,"schema":{"$ref":"#/definitions/UpdateFCMTokenRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UpdateFCMTokenResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/document/get/{documentId}":{"post":{"tags":["document-controller"],"summary":"Returns details for selected documents","operationId":"getDocumentDetails","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"documentId","in":"path","description":"documentId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/DocumentDetailsResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/document/getAll":{"post":{"tags":["document-controller"],"summary":"Returns all available documents","operationId":"getAllDocuments","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/DocumentResponse"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/document/getOwn":{"post":{"tags":["document-controller"],"summary":"Returns documents own by authenticated user","operationId":"getOwnDocuments","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/DocumentResponse"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/notifications/getDailyNotificationTime":{"post":{"tags":["notification-controller"],"summary":"Returns time of daily notifications","operationId":"getDailyNotificationTime","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"integer","format":"int64"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/notifications/modifyDailyNotificationTime":{"post":{"tags":["notification-controller"],"summary":"Modify time of daily notifications","operationId":"modifyDailyNotificationTime","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"modifyDailyNotificationTimeRequest","description":"modifyDailyNotificationTimeRequest","required":true,"schema":{"$ref":"#/definitions/ModifyDailyNotificationTimeRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"integer","format":"int64"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/role/assign":{"post":{"tags":["role-management-controller"],"summary":"Assign a role to the user","operationId":"assign","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"roleManagementRequest","description":"roleManagementRequest","required":true,"schema":{"$ref":"#/definitions/RoleManagementRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/role/getAll":{"post":{"tags":["role-management-controller"],"summary":"Returns all available roles","operationId":"getAll","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/SignfluentRoleResponse"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/role/getForCurrentUser":{"post":{"tags":["role-management-controller"],"summary":"Returns all roles for currently authenticated user","operationId":"getAllForCurrentUser","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/SignfluentRoleResponse"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/role/getForUser":{"post":{"tags":["role-management-controller"],"summary":"Returns roles for specified user","operationId":"getAlForUser","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"userRequest","description":"userRequest","required":true,"schema":{"$ref":"#/definitions/UserRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/SignfluentRoleResponse"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/role/revoke":{"post":{"tags":["role-management-controller"],"summary":"Revoke a role from the user","operationId":"revoke","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"roleManagementRequest","description":"roleManagementRequest","required":true,"schema":{"$ref":"#/definitions/RoleManagementRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/signingProcess/approveDocument":{"post":{"tags":["signing-process-controller"],"summary":"Submit approve document decision","operationId":"approveDocument","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"approveDocumentRequest","description":"approveDocumentRequest","required":true,"schema":{"$ref":"#/definitions/ApproveDocumentRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/signingProcess/assignApprovers":{"post":{"tags":["signing-process-controller"],"summary":"Assign approvers to a document","operationId":"assignApprovers","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"assignApproversRequest","description":"assignApproversRequest","required":true,"schema":{"$ref":"#/definitions/AssignApproversRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/signingProcess/getActiveApprovers":{"post":{"tags":["signing-process-controller"],"summary":"Get active approvers","operationId":"getActiveApprovers","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/User0"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/signingProcess/getDocumentDetails":{"post":{"tags":["signing-process-controller"],"summary":"Returns document details for specified task","operationId":"getDocumentDetails_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"processIdRequest","description":"processIdRequest","required":true,"schema":{"$ref":"#/definitions/ProcessIdRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/DocumentWithContent"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/signingProcess/getDocumentsForApproval":{"post":{"tags":["signing-process-controller"],"summary":"Returns documents needed User's approval","operationId":"getDocumentsForApproval","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/DocumentWithProcessResponse"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/signingProcess/getDocumentsForInspection":{"post":{"tags":["signing-process-controller"],"summary":"Returns documents needed inspection","operationId":"getDocumentsForInspection","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/DocumentWithProcessResponse"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/signingProcess/getSignatureRequest":{"post":{"tags":["signing-process-controller"],"summary":"Returns signature request for authenticated user","operationId":"getSignatureRequest","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/SignfluentSignatureRequest"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/signingProcess/inspectDocument":{"post":{"tags":["signing-process-controller"],"summary":"Inspect document and assign approvers","operationId":"inspectDocument","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"inspectDocumentRequest","description":"inspectDocumentRequest","required":true,"schema":{"$ref":"#/definitions/InspectDocumentRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/signingProcess/submitSignature":{"post":{"tags":["signing-process-controller"],"summary":"Submits document signature","operationId":"submitSignature","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"signfluentSignature","description":"signfluentSignature","required":true,"schema":{"$ref":"#/definitions/SignfluentSignature"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/signingProcess/uploadDocument":{"post":{"tags":["signing-process-controller"],"summary":"Uploads a document","operationId":"uploadDocument","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"uploadDocumentRequest","description":"uploadDocumentRequest","required":true,"schema":{"$ref":"#/definitions/UploadDocumentRequest"}}],"responses":{"200":{"description":"OK"},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/createUser":{"post":{"tags":["user-controller"],"summary":"Creates a new user","operationId":"createUser","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"userCreateRequest","description":"userCreateRequest","required":true,"schema":{"$ref":"#/definitions/UserCreateRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserCreateResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/getAllUsers":{"post":{"tags":["user-controller"],"summary":"Returns all available users","operationId":"getAllUsers","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/User"}}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/getCurrentUserDetails":{"post":{"tags":["user-controller"],"summary":"Returns details of authenticated user","operationId":"getCurrentUserDetails","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/User"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/getUserDetails/{userId}":{"post":{"tags":["user-controller"],"summary":"Return details of specified user","operationId":"getUserDetails","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"userId","in":"path","description":"userId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/User"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"ApprovalOrderModel":{"type":"object","properties":{"approverId":{"type":"string","format":"uuid"},"order":{"type":"integer","format":"int32"}},"title":"ApprovalOrderModel"},"ApprovalOrderResponse":{"type":"object","properties":{"approvingOrder":{"type":"integer","format":"int32"},"id":{"type":"string"},"user":{"$ref":"#/definitions/User"}},"title":"ApprovalOrderResponse"},"ApproveDocumentRequest":{"type":"object","properties":{"approve":{"type":"boolean"},"approverId":{"type":"string"},"processId":{"type":"string"}},"title":"ApproveDocumentRequest"},"AssignApproversRequest":{"type":"object","properties":{"approvers":{"type":"array","items":{"$ref":"#/definitions/ApprovalOrderModel"}},"delegatorId":{"type":"string"},"processId":{"type":"string"}},"title":"AssignApproversRequest"},"AuthenticationRequest":{"type":"object","properties":{"password":{"type":"string"},"username":{"type":"string"}},"title":"AuthenticationRequest"},"AuthenticationResponse":{"type":"object","properties":{"expiresIn":{"type":"integer","format":"int64"},"refreshExpiresIn":{"type":"integer","format":"int64"},"refreshToken":{"type":"string"},"token":{"type":"string"},"userId":{"type":"string"}},"title":"AuthenticationResponse"},"BaseResponse":{"type":"object","properties":{"message":{"type":"string"}},"title":"BaseResponse"},"DeviceEntity":{"type":"object","properties":{"deviceHardwareId":{"type":"string"},"fcmtoken":{"type":"string"},"id":{"type":"string","format":"uuid"},"userId":{"type":"string","format":"uuid"}},"title":"DeviceEntity"},"DocumentDetailsResponse":{"type":"object","properties":{"approvalOrder":{"type":"array","items":{"$ref":"#/definitions/ApprovalOrderResponse"}},"content":{"type":"string","format":"byte"},"delegatedBy":{"$ref":"#/definitions/UserActionResponse"},"description":{"type":"string"},"documentId":{"type":"string"},"hash":{"type":"string","format":"byte"},"rejectedBy":{"$ref":"#/definitions/UserActionResponse"},"signatures":{"type":"array","items":{"$ref":"#/definitions/Signature0"}},"status":{"type":"string"},"uploadedBy":{"$ref":"#/definitions/UserActionResponse"}},"title":"DocumentDetailsResponse"},"DocumentResponse":{"type":"object","properties":{"description":{"type":"string"},"documentId":{"type":"string"},"status":{"type":"string"},"uploadedAt":{"type":"string","format":"date-time"},"uploadedBy":{"$ref":"#/definitions/User"}},"title":"DocumentResponse"},"DocumentWithContent":{"type":"object","properties":{"content":{"type":"string"},"description":{"type":"string"},"status":{"type":"string"},"uploadedAt":{"type":"string","format":"date-time"},"uploadedBy":{"$ref":"#/definitions/User0"}},"title":"DocumentWithContent"},"DocumentWithProcessResponse":{"type":"object","properties":{"document":{"$ref":"#/definitions/DocumentResponse"},"processId":{"type":"string"}},"title":"DocumentWithProcessResponse"},"InspectDocumentRequest":{"type":"object","properties":{"delegatorId":{"type":"string"},"isValid":{"type":"boolean"},"processId":{"type":"string"}},"title":"InspectDocumentRequest"},"IssueX509CertificateRequest":{"type":"object","properties":{"publicKeyPem":{"type":"string"},"userId":{"type":"string"}},"title":"IssueX509CertificateRequest"},"ModifyDailyNotificationTimeRequest":{"type":"object","properties":{"notificationTime":{"type":"integer","format":"int64"}},"title":"ModifyDailyNotificationTimeRequest"},"ProcessIdRequest":{"type":"object","properties":{"processId":{"type":"string"}},"title":"ProcessIdRequest"},"RefreshTokenRequest":{"type":"object","properties":{"refreshToken":{"type":"string"}},"title":"RefreshTokenRequest"},"RegisterDeviceRequest":{"type":"object","properties":{"deviceHardwareId":{"type":"string"},"userId":{"type":"string","format":"uuid"}},"title":"RegisterDeviceRequest"},"RegisterDeviceResponse":{"type":"object","properties":{"deviceEntity":{"$ref":"#/definitions/DeviceEntity"},"message":{"type":"string"},"successful":{"type":"boolean"}},"title":"RegisterDeviceResponse"},"RoleManagementRequest":{"type":"object","properties":{"role":{"type":"string"},"userId":{"type":"string"}},"title":"RoleManagementRequest"},"Signature0":{"type":"object","properties":{"certificate":{"type":"string"},"id":{"type":"string","format":"uuid"},"signatureDate":{"type":"string","format":"date-time"},"signedHash":{"type":"string"}},"title":"Signature0"},"SignfluentRoleResponse":{"type":"object","properties":{"key":{"type":"string"},"name":{"type":"string"}},"title":"SignfluentRoleResponse"},"SignfluentSignature":{"type":"object","properties":{"approverId":{"type":"string"},"processId":{"type":"string"},"signedContent":{"type":"string"},"x509Pem":{"type":"string"}},"title":"SignfluentSignature"},"SignfluentSignatureRequest":{"type":"object","properties":{"contentToBeSigned":{"type":"string"},"processId":{"type":"string"}},"title":"SignfluentSignatureRequest"},"UpdateFCMTokenRequest":{"type":"object","properties":{"deviceHardwareId":{"type":"string"},"fcmToken":{"type":"string"},"userId":{"type":"string","format":"uuid"}},"title":"UpdateFCMTokenRequest"},"UpdateFCMTokenResponse":{"type":"object","properties":{"deviceEntity":{"$ref":"#/definitions/DeviceEntity"},"message":{"type":"string"},"successful":{"type":"boolean"}},"title":"UpdateFCMTokenResponse"},"UploadDocumentRequest":{"type":"object","properties":{"description":{"type":"string"},"document":{"type":"string"},"userId":{"type":"string"}},"title":"UploadDocumentRequest"},"User":{"type":"object","properties":{"email":{"type":"string"},"firstName":{"type":"string"},"id":{"type":"string"},"lastName":{"type":"string"},"username":{"type":"string"}},"title":"User"},"User0":{"type":"object","properties":{"email":{"type":"string"},"firstName":{"type":"string"},"id":{"type":"string"},"lastName":{"type":"string"},"username":{"type":"string"}},"title":"User0"},"UserActionResponse":{"type":"object","properties":{"date":{"type":"string","format":"date-time"},"user":{"$ref":"#/definitions/User"}},"title":"UserActionResponse"},"UserCreateRequest":{"type":"object","properties":{"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"password":{"type":"string"},"username":{"type":"string"}},"title":"UserCreateRequest"},"UserCreateResponse":{"type":"object","properties":{"userId":{"type":"string"}},"title":"UserCreateResponse"},"UserRequest":{"type":"object","properties":{"userId":{"type":"string"}},"title":"UserRequest"}}}